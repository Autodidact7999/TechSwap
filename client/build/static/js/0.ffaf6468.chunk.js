"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[0],{1e3:function(e,a,t){t.r(a);var s=t(9439),n=t(2791),i=t(7689),l=t(5294),c=t(2675),r=t(184),o="https://techswap.onrender.com";a.default=function(){var e=(0,n.useState)(!1),a=(0,s.Z)(e,2),t=a[0],d=a[1],u=(0,i.s0)(),h=(0,i.TH)(),m=new URLSearchParams(h.search),f=m.get("code"),g=m.get("email"),x=h.state?h.state:g,b=(0,n.useState)(f||""),p=(0,s.Z)(b,2),v=p[0],y=p[1],j=(0,n.useState)(""),w=(0,s.Z)(j,2),N=w[0],k=w[1],C=(0,n.useCallback)((function(){d(!0),console.log("BASE_URL client:",o);var e="".concat(o,"/auth/verify?code=").concat(v,"&email=").concat(x);console.log("Verification link client:",e),l.Z.get(e).then((function(e){200===e.status&&(u("/email-verified"),y(""),k(""),d(!1))})).catch((function(e){k(e.response.data.message||"Invalid code, please try again."),d(!1)}))}),[v,x,u,d,k]);return(0,n.useEffect)((function(){f&&g&&C()}),[f,g,C]),"Email is already verified"===N&&u("/signin"),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"rounded-md bg-white p-6 shadow-md",children:[(0,r.jsx)("h2",{className:"mb-4 text-2xl font-bold",children:"Verify your email address"}),!f&&!g&&(0,r.jsxs)("p",{className:"mb-4",children:["A verification code was sent to your email address. Please either",(0,r.jsx)("span",{className:"font-bold",children:" follow "}),"the link in the email or",(0,r.jsx)("span",{className:"font-bold",children:" enter "}),"the code below."]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",placeholder:"Verification code",className:"w-full rounded-lg border-2 border-gray-200 p-2",value:v,onChange:function(e){y(e.target.value)}})}),N&&(0,r.jsx)("div",{className:"mb-4 text-sm text-red-500",children:N}),(0,r.jsx)("button",{disabled:t,className:"rounded-lg bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",onClick:C,children:t?(0,r.jsx)(c.Z,{loadingText:"Verifying..."}):"Verify"}),(0,r.jsx)("button",{className:"ml-4 rounded-lg bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",onClick:function(){u("/signup")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=0.ffaf6468.chunk.js.map