"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[94],{3094:(a,e,r)=>{r.r(e),r.d(e,{default:()=>u});var t=r(3216),s=r(5475),n=r(729),o=r(5043),c=r(7796),l=r(4960),i=r(4248),d=r(9456),y=r(579);const u=()=>{const a=(0,d.wA)(),e=(0,t.Zp)(),[r,u]=(0,o.useState)(""),[m,h]=(0,o.useState)(""),[p,w]=(0,o.useState)(!1),g=(0,d.d4)((a=>{var e;return null===(e=a.admin)||void 0===e?void 0:e.signInError}));return(0,y.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,y.jsx)("div",{className:"w-full max-w-sm mx-auto overflow-hidden bg-white rounded-md shadow-md",children:(0,y.jsxs)("div",{className:"px-6 py-4",children:[(0,y.jsx)("div",{className:"flex justify-center mx-auto",children:(0,y.jsx)("img",{className:"w-auto h-5",src:n,alt:""})}),(0,y.jsx)("p",{className:"mt-1 text-center text-gray-500",children:"Sign in as admin"}),(0,y.jsxs)("form",{children:[(0,y.jsx)("div",{className:"w-full mt-4",children:(0,y.jsx)("input",{onChange:a=>{u(a.target.value)},className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-md  focus:border-blue-400  focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",type:"text",placeholder:"Username","aria-label":"Username"})}),(0,y.jsx)("div",{className:"w-full mt-4",children:(0,y.jsx)("input",{onChange:a=>{h(a.target.value)},className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-md  focus:border-blue-400 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",type:"password",placeholder:"Password","aria-label":"Password"})}),g&&(0,y.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mt-4 flex items-center justify-between",children:(0,y.jsx)("span",{className:"block sm:inline",children:g})}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,y.jsxs)(s.N_,{to:"/",children:[(0,y.jsx)(l.eh5,{className:"inline-block w-4 h-4 mr-2"}),"Back to home"]}),(0,y.jsx)("button",{disabled:p,type:"submit",onClick:t=>(t=>{w(!0),t.preventDefault();const s={username:r,password:m};a((0,i.Lz)(s)).then((()=>{w(!1),e("/admin")}))})(t),className:"px-6 py-2 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-500 rounded-md hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50",children:p?(0,y.jsx)(c.A,{loadingText:"Signing in..."}):"Sign in"})]})]})]})})})}},4248:(a,e,r)=>{r.d(e,{rb:()=>h,JT:()=>l,WB:()=>y,qn:()=>u,C1:()=>c,vT:()=>m,C$:()=>i,Zm:()=>o,KX:()=>p,Lz:()=>n,vX:()=>d});var t=r(2247);var s=r(4359);const n=a=>async e=>{try{const{error:r,data:n}=await(async a=>{try{return console.log("AdminAPI ",t.lb),console.log("Credential ",a),{error:null,data:(await t.lb.post("/signin",a)).data}}catch(r){return(0,t.hS)(r)}})(a);if(r)throw new Error(r);localStorage.setItem("admin",JSON.stringify(n)),e({type:s.qf})}catch(r){e({type:s.Xm,payload:r.message})}},o=()=>async a=>{try{localStorage.removeItem("admin"),a({type:s.l3})}catch(e){}},c=()=>async a=>{try{const{error:e,data:r}=await(async()=>{try{return{error:null,data:(await t.lb.get("/logs")).data}}catch(e){return(0,t.hS)(e)}})();if(e)throw new Error(e);a({type:s.Ho,payload:r})}catch(e){a({type:s.Sw,payload:e.message})}},l=()=>async a=>{try{const{error:e}=await(async()=>{try{await t.lb.delete("/logs")}catch(e){return(0,t.hS)(e)}})();if(e)throw new Error(e);a({type:s.AJ})}catch(e){a({type:s.PR,payload:e.message})}},i=()=>async a=>{try{const{error:e,data:r}=await(async()=>{try{return{error:null,data:(await t.lb.get("/preferences")).data}}catch(e){return(0,t.hS)(e)}})();if(e)throw new Error(e);a({type:s.Wp,payload:r})}catch(e){a({type:s.Nz,payload:e.message})}},d=a=>async e=>{try{const{error:r}=await(async a=>{try{await t.lb.put("/preferences",a)}catch(r){return(0,t.hS)(r)}})(a);if(r)throw new Error(r);e({type:s.dK})}catch(r){e({type:s.Ek,payload:r.message})}},y=()=>async a=>{try{const{error:e,data:r}=await(async()=>{try{return{error:null,data:(await t.lb.get("/communities")).data}}catch(e){return(0,t.hS)(e)}})();if(e)throw new Error(e);a({type:s.pK,payload:r})}catch(e){a({type:s.YI,payload:e.message})}},u=a=>async e=>{try{const{error:r,data:n}=await(async a=>{try{return{error:null,data:(await t.lb.get("/community/".concat(a))).data}}catch(r){return(0,t.hS)(r)}})(a);if(r)throw new Error(r);e({type:s.rR,payload:n})}catch(r){e({type:s.OF,payload:r.message})}},m=()=>async a=>{try{const{error:e,data:r}=await(async()=>{try{return{error:null,data:(await t.lb.get("/moderators")).data}}catch(e){return(0,t.hS)(e)}})();if(e)throw new Error(e);a({type:s.qK,payload:r})}catch(e){a({type:s.H9,payload:e.message})}},h=(a,e)=>async r=>{try{const{error:n}=await(async(a,e)=>{try{await t.lb.patch("/add-moderators",null,{params:{communityId:a,moderatorId:e}})}catch(n){return(0,t.hS)(n)}})(a,e);if(n)throw new Error(n);r({type:s.G4})}catch(n){r({type:s.JE,payload:n.message})}},p=(a,e)=>async r=>{try{const{error:n}=await(async(a,e)=>{try{await t.lb.patch("/remove-moderators",null,{params:{communityId:a,moderatorId:e}})}catch(n){return(0,t.hS)(n)}})(a,e);if(n)throw new Error(n);r({type:s.lu})}catch(n){r({type:s.Sj,payload:n.message})}}}}]);
//# sourceMappingURL=94.d7a012f2.chunk.js.map